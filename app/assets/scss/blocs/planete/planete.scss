.planet{
  width:120vw;
  height:10vw;
  position: absolute;
  bottom:0;
  left:-10vw;
  border-radius: 50% / 100%;
  border-bottom-left-radius: 0;
  border-bottom-right-radius: 0;
  transition:bottom .7s;
  
  &--earth{
    overflow:hidden;
    background-color: beige;
    position: absolute;
    &:after{
      position: absolute;
      content:"";
      background-color: lightgrey;
      height:40vw;
      width:45vw;
      border-radius:50%;
      bottom:-5vw;
      display: block;
    }
     &:before{
      position: absolute;
      content:"";
      background-color: lightgrey;
      height:10vw;
      width:20vw;
      border-radius:50%;
      bottom:3vw;
      right:20vw;
      display: block;
    }
    
  }
  &--flying{
    bottom:-10vw;
    transition:bottom .7s;
  }
}

.star{
  background-color: yellow;
  border-radius:50%;
  position: absolute;
  
  &--small{
    height:1vw;
    width:1vw;
  }
  &--medium{
    height:3vw;
    width:3vw;
  }
  &--big{
    height:5vw;
    width:5vw;
  }
}

@for $i from 1 to 8 {
  .star:nth-child(#{$i}) {
    animation: fill#{$i} #{$i}s -4.5s infinite ease-in-out;
    z-index: 0;
    animation-play-state:paused;
  }
  .star--moving:nth-child(#{$i}){
    animation-play-state:running;
  }
  @keyframes fill#{$i} {
    from {
      transform:translate((random(200) - 100) * 1vw,(random(100) - 130) * 1vh);
    }  
    to {
      transform:scale(2); 
    }
  }
}




.ufo{
  position: absolute;
  bottom:9vw;
  z-index: 2;
  height:45vw;//47
  width:66vw;//70
  .ufo__glass{
    position: absolute;
    top:0;
    left:20%;
    width:60%;
    height:85%;
    background-color:#E8F0F9;
    border: solid 10% darkgrey;
    border-radius:50% 50% 50% 50% / 50% 50% 30px 30px; 
    overflow:hidden;
    .roue{
      position: absolute;
      border:solid 10px grey;
      width:40%;
      left:9.5%;
      height:40%;
      border-radius:50%;
      bottom:-20%;
      z-index: 3;
      &:after, &:before{
        position: absolute;
        background-color: green;
        width:20%;
        height:35%;
        top:20%;
        border-radius:5vw;
        content:"";
        z-index: 3;
      }
      &:after{
        left:-15%;
      }
      &:before{
        right:-15%;
      }
    }
  }
  .ufo__metal{
    position: absolute;
    bottom:0;
    width:100%;
    height:40%;
    background-color: grey;
    border-radius:50%;
    display: flex;
    justify-content: space-between;
    padding:0 10%;
    align-items: flex-end;
    .lamp{
      z-index: -1;
      height:28%;
      width:10%;
      background-color: red;
      border-radius:50%;
      &:nth-of-type(2),&:nth-of-type(3) {
        margin-bottom: -5%;
      }
    }
  }
}



.alian{
  --alian--primary-color: lightgreen;
  --alian--secondary-color: #76C476;
  position: absolute;
  width:43%;
  height:43%;
  bottom:0;
  &--left{
    left:9%;
  }
  &--right{
    right:9%;
    width:35%;
    height:35%;
  }
  .alian__head{
    background-color: var(--alian--primary-color);
    height:100%;
    width:100%;
    border-radius:50%;
    border-bottom-right-radius:0;
    border-bottom-left-radius:0;
    position: absolute;
    overflow:hidden;
    z-index:2;
    .alian__trache{
      position: absolute;
      background-color: var(--alian--secondary-color);
      border-radius:50%;
      &--1{
        top:-10%;
        left:0;
        width:50%;
        height:45%;
      }
      &--2{
        bottom:-25%;
        right:10%;
        width:30%;
        height:45%;
      }
    } 
  }
}

.alian__mouth{
  width:50%;
  position: absolute;
  left:25%;
  height:30%;
  background-color: #000;
  bottom:25%;
  border-radius:50% 50% 50% 50% / 50% 50% 30px 30px; 
  &--closing{
    height:14%;
    width:20%;
    left:40%;
    border-radius:50%;
    &:after,&:before{
      height:100%;
    }
  }
  
  &:after{
    position: absolute;
    background-color: #fff;
    width:20%;
    height:45%;
    top:0%;
    left:25%;
    content:"";
    border-radius:0 0 50% 50% / 0 50% 50% 50%; 
  }
  &:before{
    position: absolute;
    background-color: #fff;
    width:20%;
    height:30%;
    top:0%;
    right:25%;
    content:"";
    border-radius:0 0 50% 50% / 0 50% 50% 50%; 
  }
}

.alian__eye{
  z-index: 2;
  top:-50%;
  position: absolute;
  background-color:var(--alian--primary-color);
  height:40%;
  width:40%;
  border-radius:50%;
  &--right{
    right:0;
  }
  &::after{
    position: absolute;
    background-color: #000;
    width:30%;
    height:30%;
    top:35%;
    left:25%;
    content:"";
    border-radius:50%; 
  }
  &::before{
    position: absolute;
    background-color: #fff;
    width:50%;
    height:50%;
    top:25%;
    left:25%;
    content:"";
    border-radius:50%;
  }
}
.alian__eye__connection{
  z-index:1;
  width:14%;
  left:20%;
  height:40%;
  background-color:var(--alian--secondary-color);
  border-bottom-right-radius:30vw;
  border-bottom-left-radius:30vw;
  position: absolute;
  top:-20%;
  &--right{
    left:auto;
    right:20%;
  }
}



.ufo{
  animation:ufo--base .7s ease-in-out infinite alternate;
  animation-play-state:paused;
  transition: bottom 1s;
  @keyframes ufo--base{
    0%{transform:translateY(10px);}
    100%{transform:translateY(0px);}
  }
  &--starting{
    transition: bottom 1s;
    bottom:20vh;
  }
  &--driving{
    animation-play-state:running;
    &.ufo--driving--drunken{
      animation:ufo--base--drunk .7s ease-in-out infinite alternate;
      transition: bottom 1s;
      transform-origin:bottom left;
      @keyframes ufo--base--drunk{
        0%{transform:translateY(10px) translateX(-30px) rotate(2deg);}
        100%{transform:translateY(0px) translateX(35px) rotate(-2deg);}
      }
    }
  }
}

.roue--turning{
  animation:roue--base .7s ease-in-out infinite alternate;
  transform-origin:center center;
  @keyframes roue--base{
    0%{transform:rotate(5deg);}
    100%{transform:rotate(-5deg);}
  }
}
.alian__eye{
  &::after{
    animation:eye--normal .7s ease-in-out infinite alternate;
    transform-origin:center center;
    animation-play-state:paused;
    @keyframes eye--normal{
      0%{transform:translateX(0);}
      100%{transform:translateX(10px);}
    }
  }
  &--moving{
    &::after{
      animation-play-state:running;
    }
  }
}

.alian--bureau{
  .alian__glasses{
    position: absolute;
    //background-color: #000;
    height:120%;
    width:120%;
    border-radius:2vw;
    top:-0.7vw;
    left:-0.7vw;
    border:solid 1vw #343434;
     &__connection{
      &:after{
        position: absolute;
        background-color: #343434;
        height:20%;
        width:100%;
        top:43%;
        content:"";
        left:-100%;
      }
    }
  }
  .alian__hair{
    position: absolute;
    background-color: #000;
    width:0.5vw;
    height:10%;
    top:-10%;
    left:50%;
    &:after{
      content:"";
      position: absolute;
      background-color: #000;
      height:100%;
      width:100%;
      left:-0.8vw;
    }
  }
}


.alian--punk{
  transform-origin:bottom center;
  animation:punkmusic .2s ease-out infinite alternate;
  @keyframes punkmusic {
    0%{transform:scaleY(1)}
    100%{transform:scaleY(0.9)}
  }
  &:nth-of-type(1){
    animation-delay:-1s;
  }
  .alian__hair{
    position: absolute;
    width: 0; 
    height: 0; 
    top:-8vw;
    left:calc(50% - 2.5vw);
    border-left: 2.5vw solid transparent;
    border-right: 2.5vw solid transparent;
    border-top: 15vw solid violet;
    background-color: transparent;
    &:after{
      content:"";
      position: absolute;
      width: 0; 
      height: 0; 
      top:-15vw;
      left:calc(50% - 0vw);
      background-color: transparent;
      border-left: 0vw solid transparent;
      border-right: 2.5vw solid transparent;
      border-top: 15vw solid pink;
    }
  }

  .alian__ear{
    position: absolute;
    background-color: gold;
    width:10%;
    height:25%;
    right:-5%;
    z-index: 6;
    top:45%;
    border-radius:1vw;
    animation:ear .5s ease-out infinite alternate;
    transform-origin:top center;
    @keyframes ear {
      0%{transform:rotate(10deg)}
      100%{transform:rotate(-10deg)}
    }
  }
}

.alian__mouth{
  animation:mouth--parler .2s ease-in-out infinite alternate;
  animation-play-state:paused;
  transform-origin:top;
  @keyframes mouth--parler{
    0%{transform:sclaeY(1);}
    100%{transform:scaleY(0.6);}
  } 
  &--speaking{
    animation-play-state:running;
  }
  
}

.alian--right{
  .alian__mouth--speaking{
    animation:mouth--parler .2s ease-in-out -.1s infinite alternate;
  }
}

nav{
  position: absolute;
  top:10px;
  left:10px;
  button{
    display: block;
    margin-bottom: 5px;
    border-radius:0;
    padding:5px 10px;
    border-radius:5px;
    font-size: 0.8rem;
    &:focus{
      outline:none;
    }
    &.active{
      background-color: yellow;
      
    }
  }
}

.bubble{
  position: absolute;
  top:3vw;
  right:3vw;
  background-color: #fff;
  padding:3vw;
  line-height: 1.3rem;
  width:40vw;
  border-radius:2vw;
  opacity:0;
  span{
    background-color: #fff;
    height:20px;
    position: absolute;
    &.hidden--1{
      top:0;
      right:0;
    }
    &.hidden--2{
      bottom:0;
      right:0;
      width:100%;
    }
  }
  .bubble__choix{
    padding:5px 10px;
    margin-top: 5px;
    background-color: #90EE90;
    display: inline-block;
    border-radius:5px;
    opacity:0;
  }
  &--active{
    opacity:1;
    span{
      @keyframes typing {
        from { width: 100% }
        to { width: 0% }
      }
      
    }
    
    .bubble__choix{
      animation:fadeIn 0.3s forwards;
      &:hover{
        background-color: #76C476;
        cursor: pointer;
      }
    }

    @keyframes fadeIn{
      0%{opacity:0}
      100%{opacity:1}
    }
    
  }
  p{
    margin-bottom: 5px;
    hyphens: auto; 
    width:100%;
    position: relative;
    margin-top: 0;
  }
  &:after{
    content:"";
    width: 0;
    height: 0;
    border-right: 7vw solid transparent;
    border-top: 6vw solid #fff;
    position: absolute;
    bottom:-4vw;
    left:3vw;
  }
}

.bottle{
  left:2%;
  overflow:hidden;
  height:10vw;
  width:4vw;
  position: absolute;
  bottom:0;
  z-index: 2;
  .bottle__top{
    background-color: brown;
    height:10%;
    position: absolute;
    border-radius:1vw;
    z-index: 2;
  }
  .bottle__glass{
    position: absolute;
    &--top{
      width: 0;
      height: 0;
    }
    &--bottom{
      bottom:0;
      width:100%;
      &:after{
        background-color: darkorange;
        height:50%;
        top:20%;
      }
    }
  }
}

.bottle--orange{
  .bottle__top{
    width:80%;
    height:10%;
    left:10%;
  }
  .bottle__glass{
    &--top{
      top:-50%;
      border-left: 2vw solid transparent;
      border-right: 2vw solid transparent;
      border-bottom: 10vw solid orange;
    }
    &--bottom{
      background-color: orange;
      height:56%;
      border-radius:1vw;
      &:after{
        background-color: darkorange;
        height:50%;
        top:20%;
      }
    }
  }
}

.bottle--alk{
  .bottle__top{
    width:60%;
    left:20%;
  }
  .bottle__glass{
    &--top{
      left:1vw;
      top:-60%;
      border-left: 1vw solid transparent;
      border-right: 1vw solid transparent;
      border-bottom: 10vw solid green;
    }
    &--bottom{
      height:65%;
      border-radius:50%;
      background-color: green;
      &:after{
        top:30%;
        background-color: darkgreen;
      }
    }
  }
}


.alian__mouth{
  position: absolute;
  
}

.ufo--bubbelgum--active{
  .bubblegum--trache{
    background-color: pink;
    position: absolute;
    height:3vw;
    width:3vw;
    top:38%;
    right:8%;
    border-radius:2vw;
    opacity:0;
    animation: fadeIn 0.1s 1.4s forwards;
    transform:rotate(-80deg);
    @keyframes fadeIn{
      0%{opacity:0}
      100%{opacity:1}
    }
    &:after,&:before{
      transform-origin: bottom;
      content:"";
      background-color: pink;
      height:5vw;
      width:5vw;
      position: absolute;
      border-radius:50%;
      top:-180%;
      left:-50%;
    }&:after{
      transform:rotate(80deg)
    }&:before{
      transform:rotate(60deg);
      width:2vw;
      height:2vw;
    }
  }
  .bubblegum--bigbubble{
    background-color: pink;
    position: absolute;
    z-index: 6;
    bottom:10%;
    right:28%;
    border-radius:50%;
    transform-origin:center;
    animation: bubblegum 1.5s ease-in;
    @keyframes bubblegum {
      0%{height:0vw; width:0vw;}
      100%{height:15vw; width:15vw;bottom:0%;right:0%;}
    }
  }
}

.scala{
  overflow:hidden;
  position: absolute;
  top:5vw;
  right:3vw;
  height:30vw;
  border-radius:5vw;
  width:6vw;
  background-color: lightblue;
  border:solid grey 1vw;
  .scale__number{
    position: absolute;
    height:80%;
    bottom:0;
    width:100%;
    left:0;
    background-image:linear-gradient(black 3px, transparent 0);
    background-size: 50% 20%;
  }
  .scale__active{
    position: absolute;
    width:100%;
    //height:20%;
    background-color: lightgreen;
    bottom:0;
    left:0;
    @for $this from 1 through 5 {
      &.scale__active--#{$this} {
        height: calc(#{$this} * 15%);
      }	
    }
  }
  
}

.ufo--police{
  opacity:0;
  bottom:auto;
  top:10vw;
  height:12.25vw;//47
  width:18.5vw;//70 
  animation:ufo--base--police 1.5s ease-in-out infinite alternate;
  transform-origin:bottom left;
  //animation-play-state:running;
  @keyframes ufo--base--police{
    0%{transform:translateY(10px) translateX(-20vw) rotate(2deg);}
    100%{transform:translateY(0px) translateX(20vw) rotate(-2deg);}
  }
  .ufo__glass{
    border-radius:50% 50% 50% 50% / 50% 50% 7.5px 7.5px; 
    height:80%;
    .alian--police{
      left:28%;
      --alian--primary-color: blue;
      --alian--secondary-color: lightblue;
    }
  }
  .ufo__alarm{
    position: absolute;
    z-index: 2;
    width:40%;
    left:30%;
    height:20%;
    top:-12%;
    .ufo__alarm__light{
      width:250%;
      height:100%;
      top:0;
      position: absolute;
      background-color: #fff;
      left:-70%;
      background: rgb(255,255,255);
      background: linear-gradient(90deg, 
        rgba(255,255,255,0) 0%, 
        rgba(255,255,255,1) 50%, 
        rgba(255,255,255,0) 100%);
      transform-style: preserve-3d;
      animation:flipLight 1s linear infinite alternate;
      @keyframes flipLight{
        0%{transform: rotateY(180deg);}
        100%{transform: rotateY(0deg);}
      }
    }
    .ufo__alarm__lamp{
      position: absolute;
      width:100%;
      height:100%;
      border-radius:1vw;
      background-color: darkgrey;
      overflow:hidden;
      &:after, &:before{
        content:"";
        position: absolute;
        width:30%;
        height:100%;
        animation:flipLamp 1s linear -0.5s infinite alternate;
        @keyframes flipLamp{
          0%{background-color: darken(blue, 25);}
          100%{}
        }
      }
      &:after{
        background-color: red;
        right:0;
        animation:flipLamp 1s linear 0s infinite alternate;
      }
      &:before{
        background-color: red;
        left:0;
      }
    }
    
  }
  .ufo__metal{
    height: 45%;
  }
  &.ufo--police--active{
    opacity:1;
    animation-play-state:running;
  }
}




